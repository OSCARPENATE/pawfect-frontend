<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- CSS -->
        <link rel="stylesheet" href="Access/PetsStyle.css">
        <!-- Iconos -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
            integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!--Pata-->
        <link rel="icon" href="Imagens/pata.png" type="image/png">

        <title>Pawfect</title>
    </head>

    <body>
        
        <!--Header - Menu-->
        <header>
            <div class="Contenedor_header">

                <div class="Logo">
                    <a href="index.html">
                        <img src="Imagens/name.png" alt="">
                    </a>
                </div>

                <div class="Menu">
                    <nav>
                        <ul>
                            <li><a href="#">Nosotros</a></li>
                            <li><a href="#">Servicios</a></li>
                            <li><a href="Pets.html">Mascotas</a></li>
                            <li><a href="Perfil.html">Perfil</a></li>
                        </ul>
                    </nav>

                    <a href="LoginRegistro.html" class="Boton_principal"><span>INGRESAR</span></a>

                    <script src="Scripts/BotonPrincipal.js"></script>

                    <div class="SocialMedia">
                        <a href="#">
                            <img src="Imagens/facebook.png" alt="">
                        </a>
                        <a href="#">
                            <img src="Imagens/x.png" alt="">
                        </a>
                        <a href="#">
                            <img src="Imagens/instagram.png" alt="">
                        </a>
                    </div>
                    
                    <div class="menu-toggle">
                            <i class="fas fa-bars"></i> <!-- Icono de hamburguesa de Font Awesome -->
                    </div>

                </div>

            </div>

        </header>

        <main>

            <section class="Portada_mascotas">
                <img src="Imagens/doggie2.jpg" alt="Portada">
                <div class="Texto_cover">
                    <h1>Busca a tu mejor amigo</h1>
                    <p>Adoptar es un acto de amor y responsabilidad. Cada mascota necesita atenci贸n, paciencia y cari帽o para adaptarse y formar un v铆nculo 煤nico contigo.</p>
                </div>
            </section>

            <section class="Galeria_mascotas">
                
                <section class="Contenedor_buscar">
                    <div class="Buscador">
                        <span><i class="icono fas fa-search"></i></span>
                        <input type="search" id="buscar" placeholder="Buscar">
                    </div>
                </section>
                <button class="Boton_buscar">Buscar</button>

                <div class="Contenedor_mascotas" id="Contenedor_mascotas">
                    <div class="Mascota" id="Mascota">
                        <img src="Imagens/Sinimagen.jpeg" alt="Mascota 1">
                        <div class="Descripcion_mascota">
                            <h2></h2>
                        </div>
                    </div>

                    <script type="module">
                        document.addEventListener("DOMContentLoaded", async () => {
                            const contenedor = document.getElementById("Contenedor_mascotas");

                            try {
                                //  Obtener todas las publicaciones del backend
                                const response = await fetch("https://pawfect-backend-hkwt.onrender.com/api/users/publicaciones");
                                if (!response.ok) throw new Error("Error al obtener publicaciones");

                                const data = await response.json();
                                const publicaciones = data.publicaciones || [];

                                //  Si no hay publicaciones
                                if (publicaciones.length === 0) {
                                    contenedor.innerHTML = "<p>No hay publicaciones a煤n.</p>";
                                    return;
                                }

                                //  Limpiar contenedor antes de renderizar
                                contenedor.innerHTML = "";

                                //  Crear estructura por cada publicaci贸n
                                publicaciones.forEach(pub => {
                                    const divMascota = document.createElement("div");
                                    divMascota.classList.add("Mascota");

                                    divMascota.innerHTML = `
                                        <img src="${pub.imagenUrl || 'Imagens/Sinimagen.jpeg'}" alt="Publicaci贸n">
                                        <div class="Descripcion_mascota">
                                            <h2>${pub.titulo || ''}</h2>
                                        </div>
                                    `;

                                    contenedor.appendChild(divMascota);
                                });

                            } catch (error) {
                                console.error("Error al cargar publicaciones:", error);
                                contenedor.innerHTML = "<p>Error al cargar publicaciones.</p>";
                            }
                        });
                    </script>
                    
                    <!-- MODAL -->
                    <!-- Contenedor general -->
                    <div class="Ventana_informacion" id="Ventana_informacion">
                        <!-- Bot贸n de cerrar -->
                        <span class="Cerrar_ventana" id="Cerrar_informacion"><i class="fas fa-times"></i></span> <!-- Bot贸n para cerrar -->
                        <div class="Modal_main">
                            <!-- Imagen -->
                            <div class="Modal_imagen">
                                <img src="Imagens/Sinimagen.jpeg" alt="Mascota">
                            </div>

                            <!-- Contenido lateral -->
                            <div class="Modal_contenido">
                                <div class="Modal_header">
                                    <img src="Imagens/Sinperfil.jpg" alt="User" class="Modal_avatar">
                                    <span class="Modal_usuario">Nombre de usuario</span>
                                    <button class="btn-icon"><i class="far fa-flag"></i></span>
                                </div>

                                <div class="Modal_mascota_info">

                                    <div class="Modal_nombre_mascota">
                                        <h1>Nombre:</h1>
                                        <p>Chispas</p>
                                    </div>
                                    <div class="Modal_descripcion">
                                        <h1>Descripcion:</h1>
                                        <p> Qu茅 tal estos gordasdasdalsndoainfoiasfouaibdiusdapksd麓paksdojaosidaiosdnaiosdjpasodjaposdaoisndaiosdoaisjdaos
                                            saodisjodaijsiodaoisvmaismvabdsiuadosdpoasdpoaksdpoaksdasdasdasda
                                            os hermosos  haciendo familias felicesasdasdasdasdasdasdauygfbieij </p>
                                    </div>

                                </div>

                                <div class="Modal_acciones">
                                    <button class="btn-icon"><i class="far fa-heart"></i></button>
                                    <button class="btn-icon"><i class="far fa-comment"></i></button>
                                    <button class="btn-icon"><i class="far fa-envelope"></i></button>
                                </div>
                                <script>
                                    document.addEventListener("DOMContentLoaded", () => {
                                        activarAnimacionBotones(".btn-icon"); // Llama a la funci贸n para todos los botones con esa clase
                                    });
                                    function activarAnimacionBotones(selector) {
                                        const botones = document.querySelectorAll(selector);

                                        botones.forEach(boton => {
                                            boton.addEventListener("click", () => {
                                                const icono = boton.querySelector("i");

                                                // Reiniciar animaci贸n si ya se ejecut贸
                                                boton.style.animation = "none";
                                                boton.offsetHeight; // Forzar reflujo
                                                boton.style.animation = "pop 0.3s ease";

                                                // Alternar entre icono lleno y contorno
                                                if (boton.classList.contains("active")) {
                                                    boton.classList.remove("active");
                                                    icono.classList.remove("fas");
                                                    icono.classList.add("far");
                                                } else {
                                                    boton.classList.add("active");
                                                    icono.classList.remove("far");
                                                    icono.classList.add("fas");
                                                }
                                            });
                                        });
                                    }
                                </script>

                                <div class="Modal_info">
                                    <p><strong>199 Me gusta</strong></p>
                                    <p class="Modal_fecha">8 de noviembre de 2024</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script src="Scripts/VentanaInformacion.js"></script>
                </div>
                
                <div class="Paginador">
                    <!-- Selector para elementos por p谩gina -->
                    <div class="Elementos_pagina">
                        <label for="Elementos_porpagina">Elementos por p谩gina: </label>
                        <select id="Elementos_porpagina" onchange="cambiarElementosPorPagina()">
                            <option value="3">3</option>
                            <option value="6" selected>6</option> <!-- valor predeterminado -->
                            <option value="9">9</option>
                            <option value="12">12</option>
                        </select>
                    </div>

                    <!-- Paginaci贸n -->
                    <div class="Paginacion">
                        <button class="prev" onclick="paginaAnterior()" id="btn-prev" style="display: none;">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div id="Numeros_pagina"></div>
                        <button class="next" onclick="paginaSiguiente()" id="btn-next" style="display: none;">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!--Pie de pagina-->
            <footer>
                <div class="Footer_content">
                    <!-- Secci贸n de contacto -->
                    <div class="Footer_section-contacto">
                        <h3>Contacto</h3>
                        <p>Email: <a href="mailto:info@example.com">info@example.com</a></p>
                        <p>Tel茅fono: <a href="tel:+1234567890">+1 234 567 890</a></p>
                    </div>

                    <!-- Secci贸n de redes sociales -->
                    <h3>S铆guenos</h3>
                    <div class="Footer_section-social">
                        <a href="https://www.facebook.com"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.x.com"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.linkedin.com"><i class="fab fa-linkedin-in"></i></a>
                    </div>

                    <!-- Secci贸n de enlaces importantes -->
                    <div class="Footer_section-links">
                        <h3>Enlaces 煤tiles</h3>
                        <a href="#">Sobre nosotros</a> |
                        <a href="#">Pol铆tica de privacidad</a> |
                        <a href="#">T茅rminos y condiciones</a>
                    </div>
                </div>

                <!-- Secci贸n de derechos de autor -->
                <div class="Footer_boton">
                    <p>&copy; 2025 Pawfect. Todos los derechos reservados.</p>
                </div>
            </footer>

        </main>

        <!-- Menu hamburguesa -->
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const mobileMenu = document.querySelector('.menu-toggle');
                const navList = document.querySelector('.Menu nav ul');

                if (mobileMenu && navList) {
                    mobileMenu.addEventListener('click', () => {
                        navList.classList.toggle('active'); // Alterna la clase 'active' en el men煤

                        // Maneja la transici贸n del men煤
                        if (navList.classList.contains('active')) {
                            navList.style.maxHeight = navList.scrollHeight + "px"; // Establece la altura m谩xima al contenido
                        } else {
                            navList.style.maxHeight = "50%"; // Restaura la altura a 0
                        }
                    });
                }
            });
        </script>

        <script src="Scripts/Paginador.js"></script>

    </body>
</html>
